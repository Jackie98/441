<html>

<head>
    <meta charset="utf-8"/>
    <script src="libs/jquery-3.3.1.min.js"></script>
    <link rel="stylesheet" href="styles/style.css">

</head>

<body>
  <div id="Title">Control the square with WASD</div>
    <canvas id="myCanvas" height="750" width="1000"></canvas>

    <script>
        // Create object class
        class Object{
            constructor(x, y, width, height, color) {
                this.x = x;
                this.y = y;
                this.width = width;
                this.height = height;
                this.color = color;
            }
        }
        let object1 = new Object(100, 100, 100, 100, "rgb(157, 28, 236)");
        let object2 = new Object(40, , 40, 40, 40, "rgb(17, 159, 212)");
        let object3 = new Object(700, 100, 100, 100, "rgb(242, 158, 33)");

        var canvas = document.getElementById("myCanvas");
        var ctx = canvas.getContext("2d");
        var ctx2 = canvas.getContext("2d");
        var ctx3 = canvas.getContext("2d");
        let x_steps = 20;
        let y_steps = 20;

        setInterval(update, 500/30);
        drawSquare();
        function update()
        {
            object2.x -= x_steps;
            if (object2.x <= 0 || object2.x >= 520) {
                x_steps *= -10;
            }
            object2.y -= y_steps;
            if (object2.y <= 0 || object2.y >= 1000) {
                y_steps *= -10;
            }
            drawSquare();
        }
        function update()
        {
        object3.x -= x_steps;
        if (object3.x <= 0 || object3.x >= 520) {
            x_steps *= -10;
        }
        object3.y -= y_steps;
        if (object3.y <= 0 || object3.y >= 1000) {
            y_steps *= -10;
        }

        function drawSquare()
        {
            ctx.clearRect(0,0,500,220);
            ctx.fillStyle = object1.color;
            ctx.fillRect(object1.x, object1.y, object1.width, object1.height);
            ctx2.fillStyle = object2.color;
            ctx2.fillRect(object2.x, object2.y, object2.width, object2.height);
            ctx3.fillStyle = object3.color;
            ctx3.fillRect(object3.x, object3.y, object3.width, object3.height);
        }
        $(document).ready(function(){
            $(this).keypress(function(event){
                getKey(event);
            });
        });
        function getKey(event)
        {
            var char = event.which || event.keyCode;
            var actualThing = String.fromCharCode(char);
            if(actualThing == "w")
                {
                    moveUp();
                }
            else if(actualThing == "a")
                {
                    moveLeft();
                }
            else if(actualThing == "d")
                {
                    moveRight();
                }
            else if(actualThing == "s")
                {
                    moveDown();
                }
    drawSquare();
          }
            function moveUp()
                {
                    object3.y -= 80;
                }
            function moveLeft()
                {
                    object3.x -= 80;
                }
            function moveRight()
                {
                    object3.x += 80;
                }
            function moveDown()
                {
                    object3.y += 80;
                }
    </script>
    <script src="scripts/main.js"></script>

</body>

</html>
